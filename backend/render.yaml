services:
  - type: web
    name: app-caraban-backend
    env: node
    buildCommand: corepack pnpm install --frozen-lockfile && corepack pnpm build
    startCommand: node dist/index.js
    healthCheckPath: /api/health
    autoDeploy: true
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
        value: "10000"
      - key: CORS_ORIGIN
        value: https://app-caraban.vercel.app
      - key: LOG_LEVEL
        value: info
      # Set these in Render dashboard or via env var groups (keep secrets out of git)
      # - key: FIREBASE_PROJECT_ID
      #   sync: false
      # - key: FIREBASE_CLIENT_EMAIL
      #   sync: false
      # - key: FIREBASE_PRIVATE_KEY
      #   sync: false
      # - key: KAKAO_NATIVE_KEY
      #   sync: false
      # - key: KAKAO_REST_API_KEY
      #   sync: false
      # - key: KAKAO_JAVASCRIPT_KEY
      #   sync: false
      # - key: KAKAO_ADMIN_KEY
      #   sync: false
